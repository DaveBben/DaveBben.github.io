<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">

  <title>Javascript Hashcash Proof of Work - Bennett Notes</title> 
  <meta property="og:title" content="Javascript Hashcash Proof of Work" />
  <meta name="twitter:title" content="Javascript Hashcash Proof of Work" />
  <meta name="description" content="Suppose that you developed an app that will give users free stuff when they click a button. Obviously, there&#8217;s nothing stopping one user from spamming the button one million times and collecting a whole bunch of free stuff. If you wanted to prevent that, you could use something like a CAPTCHA, or perhaps give each user a session and cool off period. You could also implement something called a proof of work system.">
  <meta property="og:description" content="Suppose that you developed an app that will give users free stuff when they click a button. Obviously, there&#8217;s nothing stopping one user from spamming the button one million times and collecting a whole bunch of free stuff. If you wanted to prevent that, you could use something like a CAPTCHA, or perhaps give each user a session and cool off period. You could also implement something called a proof of work system.">
  <meta name="twitter:description" content="Suppose that you developed an app that will give users free stuff when they click a button. Obviously, there&#8217;s nothing stopping one user from spamming the button one million times and collecting …">
  <meta name="author" content="Dave Bennett"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Bennett Notes",
    
    "url": "https://www.bennettnotes.com"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https://www.bennettnotes.com"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https://www.bennettnotes.com",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https://www.bennettnotes.com/javascript-hashcash-proof-work/",
          "name": "Javascript hashcash proof of work"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
	"@type": "Person",
    "name" : "dave"
  },
  "headline": "Javascript Hashcash Proof of Work",
  "description" : "Suppose that you developed an app that will give users free stuff when they click a button. Obviously, there&amp;#8217;s nothing stopping one user from spamming the button one million times and collecting a whole bunch of free stuff. If you wanted to prevent that, you could use something like a CAPTCHA, or perhaps give each user a session and cool off period. You could also implement something called a proof of work system.",
  "inLanguage" : "en",
  "wordCount": 562,
  "datePublished" : "2017-12-04T22:39:00",
  "dateModified" : "2019-02-25T18:25:51",
  "image" : "  https://www.bennettnotes.com/wp-content/uploads/2017/12/Hash_function_long.svg_.png",
  "keywords" : [ "blockchain, hashcah, javascript, pow, proof of work" ],
  "mainEntityOfPage" : "https://www.bennettnotes.com/javascript-hashcash-proof-work/",
  "publisher" : {
    "@type": "Organization",
    "name" : "Bennett Notes",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https://www.bennettnotes.com/img/avatar-icon.png",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>


<meta property="og:title" content="Javascript Hashcash Proof of Work" />
<meta property="og:description" content="Suppose that you developed an app that will give users free stuff when they click a button. Obviously, there&#8217;s nothing stopping one user from spamming the button one million times and collecting a whole bunch of free stuff. If you wanted to prevent that, you could use something like a CAPTCHA, or perhaps give each user a session and cool off period. You could also implement something called a proof of work system.">
<meta property="og:image" content="https://www.bennettnotes.com/wp-content/uploads/2017/12/Hash_function_long.svg_.png" />
<meta property="og:url" content="https://www.bennettnotes.com/javascript-hashcash-proof-work/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Bennett Notes" />

  <meta name="twitter:title" content="Javascript Hashcash Proof of Work" />
  <meta name="twitter:description" content="Suppose that you developed an app that will give users free stuff when they click a button. Obviously, there&#8217;s nothing stopping one user from spamming the button one million times and collecting …">
  <meta name="twitter:image" content="https://www.bennettnotes.com/wp-content/uploads/2017/12/Hash_function_long.svg_.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@_davebennett" />
  <meta name="twitter:creator" content="@_davebennett" />

  <link href='https://www.bennettnotes.com/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta property="og:image" content="https://www.bennettnotes.com/wp-content/uploads/2017/12/Hash_function_long.svg_.png" />
  <meta name="twitter:image" content="https://www.bennettnotes.com/wp-content/uploads/2017/12/Hash_function_long.svg_.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@_davebennett" />
  <meta name="twitter:creator" content="@_davebennett" />
  <meta property="og:url" content="https://www.bennettnotes.com/javascript-hashcash-proof-work/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Bennett Notes" />

  <meta name="generator" content="Hugo 0.54.0" />
  <link rel="alternate" href="https://www.bennettnotes.com/index.xml" type="application/rss+xml" title="Bennett Notes">
  <link rel="stylesheet" rel="preload" as="style" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous" />


  
  
  
  
  
  
  




<link rel="stylesheet"
      href="https://www.bennettnotes.com/bundle.min.css"
      integrity="">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<meta name="msapplication-TileColor" content="#333333">
<meta name="msvalidate.01" content="50CDEA68FD6A5F7983A98164E8C48619" />
<meta name="theme-color" content="#323030" />



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-41393353-4', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


  </head>
  <body>
    <nav class="navbar navbar-default navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://www.bennettnotes.com">Bennett Notes</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Programming" href="/categories/programming">Programming</a>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent">Technology</a>
              <div class="navlinks-children">
                
                  <a href="/categories/android">Android</a>
                
                  <a href="/categories/chrome-os">Chrome OS</a>
                
                  <a href="/categories/gadgets">Gadgets</a>
                
                  <a href="/categories/linux">Linux</a>
                
                  <a href="/categories/windows">Windows</a>
                
              </div>
            </li>
          
        
          
            <li>
              <a title="Life" href="/categories/life">Life</a>
            </li>
          
        
          
            <li>
              <a title="Search" href="/page/search/">Search</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="Bennett Notes" href="https://www.bennettnotes.com">
            
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              
                <h1>Javascript Hashcash Proof of Work</h1>
              
              
              
              
                
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <main role="main">
        <article class="blog-post">
          
          <img src="/wp-content/uploads/2017/12/Hash_function_long.svg_.png" class="thumbnail img-responsive">
          <hr>
          
          <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6594501022141871"
            data-ad-slot="6223025728" data-ad-format="link"></ins>
          <hr>
          
          

<p>Suppose that you developed an app that will give users free stuff when they click a button. Obviously, there&#8217;s nothing stopping one user from spamming the button one million times and collecting a whole bunch of free stuff. If you wanted to prevent that, you could use something like a CAPTCHA, or perhaps give each user a session and cool off period. You could also implement something called a proof of work system.</p>

<p>If you have been reading up on Bitcoin and blockchain, then you are probably familiar with the idea of &#8220;proof of work.&#8221; Proof of work (POW) is a measure that a program or system can implement to deter malicious users from performing Dos attacks or spamming the program&#8217;s resources. Essentially, it forces the user to perform some complex and energy costing calculation before they are able to access the resource. Once the calculation is performed, the answer could be easily verified by other nodes on the network. When dealing with cryptocurrency this is essential because it prevents a computer from spamming the blockchain with a bunch of invalid new blocks.</p>

<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-6594501022141871"
     data-ad-slot="6999463098"></ins>


<p>The most popular proof of work system is the hashcash proof of work. This proof of work system requires the computer to find a hash of a plaintext string combined with an arbitrary piece of data (nonce) to make a hash that begins with a certain number of zeros. For example, say we have the string &#8220;cat.&#8221; Let&#8217;s say that then creates a hash of &#8220;abchdlerfergh&#8221; using the SHA-256 hash scheme. However, we want the hash to start with three zeroes so it will be &#8220;000ehbskfjek.&#8221; What we will do is take a number starting at 0, then hash it with out plaintext string and see if it gives us the desired output. If it doesn&#8217;t, we will increase the number until it does. A javascript hashcash proof of work implementation would work the exact same way since we are essentially just taking advantage of the crpyto library in NodeJS.</p>

<h2 id="javascript-hashcash-proof-of-work">Javascript Hashcash Proof of Work</h2>

<p>For this, we will be using NodeJS. Let&#8217;s begin by importing the crypto library:</p>

<pre>const crypto = require('crypto');</pre>

<p>Next, we will create a function to generate a string that will be approximately 1 MB. This will be our plaintext data that we will hash.</p>

<pre>function randomChallengeString() {
 let longString = '';
 for (let i = 0; i &lt; 1000000; i += 1) {
  longString += Math.random().toString(36).substr(2, 1);
 }
 return longString;
}</pre>

<p>Finally, let&#8217;s create a function that will continously loop until we find a hasht hat begins with three zeroes. Once we find it, we will print out the answer.</p>

<pre>(function doWork() {
 const challengeString = randomChallengeString();
 let nonce = 0;
 const startDate = new Date();
 let hash = crypto.createHash('sha256').update(challengeString + nonce).digest('hex');
 while (hash.substr(0, 3) !== '000') {
  hash = crypto.createHash('sha256').update(challengeString + nonce).digest('hex');
  nonce += 1;
 }
 const endDate = new Date();
 console.log('Found the answer');
 console.log(`The answer is ${nonce} with a final hash of ${hash}`);
 console.log(`${(endDate - startDate) / 1000} seconds to complete`);
}());</pre>

<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-6594501022141871"
     data-ad-slot="6999463098"></ins>


<p>Once it&#8217;s done, you should get an output that looks like this:</p>

<p><img src="/wp-content/uploads/2017/12/hash-answer-1024x66.png" alt="" /></p>

<p>Now keep in mind, Bitcoin looks for a hash that begins with about 17 zeroes. So compared to bitcoin this is pretty easy. Obviously, the more zeroes that you look for, the longer this will take to complete.</p>

<p><a href="https://github.com/DaveBben/proof-of-work-javascript" target="_blank" rel="noopener">You can find the full project over on GitHub.</a></p>

<p>&nbsp;</p>


          
          <div class="blog-tags">
            
            <a href="https://www.bennettnotes.com/tags/blockchain/">blockchain</a>&nbsp;
            
            <a href="https://www.bennettnotes.com/tags/hashcah/">hashcah</a>&nbsp;
            
            <a href="https://www.bennettnotes.com/tags/javascript/">javascript</a>&nbsp;
            
            <a href="https://www.bennettnotes.com/tags/pow/">pow</a>&nbsp;
            
            <a href="https://www.bennettnotes.com/tags/proof-of-work/">proof of work</a>&nbsp;
            
          </div>
          

          
          <span class="post-meta">
    
    
  December 4, 2017
    
	• &nbsp;Modified February 25, 2019
    
    
	• &nbsp;3&nbsp;min read
    
    

    
    
        &nbsp;-&nbsp;<span class="category-link"><a href="/categories/programming/">Programming</a></span>
    
    
  </span>
  
  
          

          
          <hr />
          <section id="social-share">
            <div class="list-inline footer-links">
              

<div class="share-box" aria-hidden="true">
    <ul class="share">
      
      <li>
        <a href="//twitter.com/share?url=https%3a%2f%2fwww.bennettnotes.com%2fjavascript-hashcash-proof-work%2f&amp;text=Javascript%20Hashcash%20Proof%20of%20Work&amp;via=_davebennett" target="_blank" rel="noopener" title="Share on Twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//plus.google.com/share?url=https%3a%2f%2fwww.bennettnotes.com%2fjavascript-hashcash-proof-work%2f" target="_blank" rel="noopener" title="Share on Google Plus">
          <i class="fab fa-google-plus"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.bennettnotes.com%2fjavascript-hashcash-proof-work%2f" target="_blank" rel="noopener" title="Share on Facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//reddit.com/submit?url=https%3a%2f%2fwww.bennettnotes.com%2fjavascript-hashcash-proof-work%2f&amp;title=Javascript%20Hashcash%20Proof%20of%20Work" target="_blank" rel="noopener" title="Share on Reddit">
          <i class="fab fa-reddit"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.bennettnotes.com%2fjavascript-hashcash-proof-work%2f&amp;title=Javascript%20Hashcash%20Proof%20of%20Work" target="_blank" rel="noopener" title="Share on LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fwww.bennettnotes.com%2fjavascript-hashcash-proof-work%2f&amp;title=Javascript%20Hashcash%20Proof%20of%20Work" target="_blank" rel="noopener" title="Share on StumbleUpon">
          <i class="fab fa-stumbleupon"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fwww.bennettnotes.com%2fjavascript-hashcash-proof-work%2f&amp;description=Javascript%20Hashcash%20Proof%20of%20Work" target="_blank" rel="noopener" title="Share on Pinterest">
          <i class="fab fa-pinterest"></i>
        </a>
      </li>
    </ul>
  </div>
  

            </div>
          </section>
          

          
          
          
          <h4 class="see-also">See also</h4>
          <ul>
            
            <li><a href="/javascript-blockchain/">Build a Javascript Blockchain</a></li>
            
            <li><a href="/multithreaded-javascript/">Multithreaded Javascript</a></li>
            
            <li><a href="/javascript-read-usb-2/">JavaScript Read USB</a></li>
            
          </ul>
          
          
        </article>
      </main>
   

      
      <ul class="pager blog-pager">
        
        <li class="previous">
          <a href="https://www.bennettnotes.com/javascript-blockchain/" data-toggle="tooltip" data-placement="top"
            title="Build a Javascript Blockchain">&larr; Previous Post</a>
        </li>
        
        
        <li class="next">
          <a href="https://www.bennettnotes.com/build-a-mmo-game-with-javascript-and-nodejs/" data-toggle="tooltip" data-placement="top"
            title="Build a Multiplayer game using Javascript">Next Post &rarr;</a>
        </li>
        
      </ul>
      


      
      
      
      <div class="disqus-comments">
        <button id="show-comments" class="btn btn-default" type="button">Show <span
            class="disqus-comment-count"
            data-disqus-url="https://www.bennettnotes.com/javascript-hashcash-proof-work">comments</span></button>
        <div id="disqus_thread"></div>

        <script type="text/javascript">
          var disqus_config = function () {
            this.page.url = 'https:\/\/www.bennettnotes.com\/javascript-hashcash-proof-work';
          };

        </script>
      </div>
      
      
      
      

    </div>
  </div>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:dave@bennettnotes.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://www.facebook.com/davebennetttech" title="Facebook">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-facebook fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/DaveBben" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/_davebennett" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://www.instagram.com/DaveBben" title="Instagram">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://www.youtube.com/user/opensourcegangster" title="Youtube">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-youtube fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            
            <a href="https://www.bennettnotes.com/index.xml" title="RSS">
            
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="bennettnotes.com">Dave Bennett</a>
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2019
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://www.bennettnotes.com">Bennett Notes</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          Theme by adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>






<script type="text/javascript">
$(function(){
  $('#show-comments').on('click', function(){
    var disqus_shortname = 'https-bennettnotes-com';
      
    (function() {
      var disqus = document.createElement('script'); 
      disqus.type = 'text/javascript'; 
      disqus.async = true;
      disqus.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(disqus);
    })();
      
    $(this).hide(); 
    });
  });
      
</script>
<script id="dsq-count-scr" src="//https-bennettnotes-com.disqus.com/count.js" async></script>

<script
async
  src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.5/lunr.min.js"
  integrity="sha256-uScRgGrInD2VnPNpjmlQtB2XRVLczyyZvrTkYi+e31U="
  crossorigin="anonymous"
></script>
<script
  async
  src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
></script>







<script
  async
    src="https://www.bennettnotes.com/bundle.min.js"
    integrity=""></script>



  </body>
</html>

